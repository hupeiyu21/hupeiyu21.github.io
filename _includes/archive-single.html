<style>
  /* 卡片容器：Flex 布局 */
  .archive__item.card-style-flex {
    display: flex !important;
    flex-direction: row !important;
    background-color: #ffffff;
    border: 1px solid #e1e4e8;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 24px;
    gap: 20px; 
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
    transition: all 0.2s ease;
    align-items: center !important; /* 垂直居中对齐 */
    box-sizing: border-box; 
  }

  .archive__item.card-style-flex:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 15px rgba(0,0,0,0.1);
    border-color: #d1d5da;
  }

  /* 左侧图片列：固定宽度 */
  .archive__item-teaser-col {
    flex: 0 0 320px !important; 
    width: 320px;
    max-width: 320px;
    margin-right: 0;
  }

  .archive__item-teaser-col img {
    width: 100%;
    height: auto !important; 
    border-radius: 4px;
    border: 1px solid #f0f0f0;
    display: block;
  }

  /* 右侧内容列 */
  .archive__item-content-col {
    flex: 1; 
    display: flex;
    flex-direction: column;
    min-width: 0; 
  }

  /* 标题 */
  .archive__item-title {
    margin-top: 0 !important;
    margin-bottom: 8px !important;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    font-size: 1.35rem; 
    font-weight: 700;
    line-height: 1.3;
  }
  .archive__item-title a {
    color: #24292e;
    text-decoration: none;
  }
  .archive__item-title a:hover {
    color: #0366d6;
  }

  /* 作者 */
  .archive__item-authors {
    font-size: 0.95rem;
    color: #586069;
    margin-bottom: 12px;
  }

  /* Badge 容器 */
  .archive__item-tags-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 12px;
    align-items: center;
  }

  /* --- 1. 实心 Badge (会议名称) --- */
  .venue-badge-solid {
    background-color: #0366d6; 
    color: #ffffff !important; 
    padding: 4px 10px;
    font-size: 0.8rem;
    font-weight: 700;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: inline-block;
    line-height: 1;
  }

  /* --- 2. 高亮等级 Badge (CCF-A/B/C) --- */
  .venue-rank-badge {
    background-color: #b31b1b; 
    color: #ffffff !important;
    padding: 4px 10px;
    font-size: 0.8rem;
    font-weight: 700;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: inline-block;
    line-height: 1;
    border: 1px solid #ff4500;
  }

  /* --- 3. 【新增】项目状态 Badge (Portfolio) --- */
  .project-status-badge {
    background-color: #28a745; /* 绿色背景 */
    color: #ffffff !important;
    padding: 4px 10px;
    font-size: 0.8rem;
    font-weight: 700;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: inline-block;
    line-height: 1;
  }

  /* --- 4. 胶囊 Badge (关键词) --- */
  .keyword-badge-pill {
    background-color: #f1f8ff; 
    color: #0366d6;            
    border: 1px solid #c8e1ff; 
    padding: 3px 10px;
    font-size: 0.8rem;
    border-radius: 12px;
    font-family: SFMono-Regular, Menlo, monospace;
    display: inline-block;
    line-height: 1;
  }

  /* 摘要 */
  .archive__item-excerpt {
    font-size: 0.95rem;
    color: #444;
    line-height: 1.6;
    margin-bottom: 15px;
  }

  /* 底部按钮行 */
  .archive__item-links-row {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: auto; 
    padding-top: 15px;
    border-top: 1px dashed #eaecef;
  }

  /* 圆角按钮样式 */
  .btn-pill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px; 
    font-size: 0.85rem;
    font-weight: 600;
    border-radius: 6px;
    text-decoration: none !important;
    transition: all 0.2s;
    border: 1px solid #e1e4e8;
    background-color: #fff;
  }

  /* ArXiv 红色样式 */
  .link-arxiv { color: #b31b1b; }
  .link-arxiv:hover { background-color: #b31b1b; color: #fff !important; border-color: #b31b1b; }

  /* GitHub 黑色样式 */
  .link-github { color: #24292e; }
  .link-github:hover { background-color: #24292e; color: #fff !important; border-color: #24292e; }

  /* Slides 橙色样式 */
  .link-slides { color: #e67e22; }
  .link-slides:hover { background-color: #e67e22; color: #fff !important; border-color: #e67e22; }
  
  /* 【新增】Demo/Website 链接样式 */
  .link-demo { color: #007bff; }
  .link-demo:hover { background-color: #007bff; color: #fff !important; border-color: #007bff; }

  /* 手机端适配 */
  @media (max-width: 768px) {
    .archive__item.card-style-flex { flex-direction: column !important; align-items: flex-start !important; } 
    .archive__item-teaser-col { flex: 0 0 auto !important; width: 100% !important; max-width: 100% !important; margin-bottom: 15px; }
  }
</style>


{% include base_path %}

{% if post.header.teaser %}
  {% capture teaser %}{{ post.header.teaser }}{% endcapture %}
{% else %}
  {% assign teaser = site.teaser %}
{% endif %}

{% if post.id %}
  {% assign title = post.title | markdownify | remove: "<p>" | remove: "</p>" %}
{% else %}
  {% assign title = post.title %}
{% endif %}


<div class="{{ include.type | default: "list" }}__item">
  <article class="archive__item card-style-flex" itemscope itemtype="http://schema.org/CreativeWork">
    
    {% if teaser %}
      <div class="archive__item-teaser-col">
        <img src=
          {% if teaser contains "://" %}
            "{{ teaser }}"
          {% else %}
            "{{ teaser | prepend: "/images/" | prepend: base_path }}"
          {% endif %}
          alt="">
      </div>
    {% endif %}

    <div class="archive__item-content-col">
      
      <h2 class="archive__item-title" itemprop="headline">
        {% if post.link %}
          <a href="{{ post.link }}">{{ title }}</a> <a href="{{ base_path }}{{ post.url }}" rel="permalink"><i class="fa fa-link" aria-hidden="true" title="permalink"></i><span class="sr-only">Permalink</span></a>
        {% else %}
          <a href="{{ base_path }}{{ post.url }}" rel="permalink">{{ title }}</a>
        {% endif %}
      </h2>

      {% if post.collection == 'publications' and post.authors %}
        <div class="archive__item-authors">
          {{ post.authors }}
        </div>
      {% endif %}

      <div class="archive__item-tags-row">
        
        {% if post.collection == 'publications' %}
          {% if post.rank %}
            <span class="venue-rank-badge">{{ post.rank }}</span>
          {% endif %}
          {% if post.venue %}
            <span class="venue-badge-solid">{{ post.venue }}</span>
          {% endif %}
        
        {% elsif post.collection == 'portfolio' %}
          {% if post.status %}
            <span class="project-status-badge">{{ post.status }}</span>
          {% endif %}
        {% endif %}

        {% if post.tags %}
          {% for tag in post.tags %}
            <span class="keyword-badge-pill">#{{ tag }}</span>
          {% endfor %}
        {% endif %}
      </div>

      {% if post.excerpt %}
        <div class="archive__item-excerpt" itemprop="description">
          {{ post.excerpt | markdownify | remove: '<p>' | remove: '</p>' }}
        </div>
      {% endif %}

      <div class="archive__item-links-row">
        
        {% if post.collection == 'publications' %}
          {% if post.paperurl %}
            <a href="{{ post.paperurl }}" class="btn-pill link-arxiv" target="_blank">
              <i class="ai ai-arxiv"></i> ArXiv
            </a>
          {% endif %}
          {% if post.codeurl %}
            <a href="{{ post.codeurl }}" class="btn-pill link-github" target="_blank">
              <i class="fab fa-github"></i> Code
            </a>
          {% endif %}
          {% if post.slidesurl %}
            <a href="{{ post.slidesurl }}" class="btn-pill link-slides" target="_blank">
              <i class="fas fa-file-powerpoint"></i> Slides
            </a>
          {% endif %}

        {% elsif post.collection == 'portfolio' %}
          
          {% if post.paperurl %}
            <a href="{{ post.paperurl }}" class="btn-pill link-arxiv" target="_blank">
              <i class="ai ai-arxiv"></i> ArXiv
            </a>
          {% endif %}
          
          {% if post.codeurl %}
            <a href="{{ post.codeurl }}" class="btn-pill link-github" target="_blank">
              <i class="fab fa-github"></i> Code
            </a>
          {% endif %}
          {% if post.demo_url %}
            <a href="{{ post.demo_url }}" class="btn-pill link-demo" target="_blank">
              <i class="fas fa-desktop"></i> Demo
            </a>
          {% endif %}
        {% endif %}
        
        <span style="margin-left:auto; color:#ccc; font-weight:bold; font-size: 1.1rem;">
          {{ post.date | date: "%Y" }}
        </span>
      </div>
    </div>

  </article>
</div>